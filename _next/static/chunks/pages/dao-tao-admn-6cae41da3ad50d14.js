(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3633],{36547:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dao-tao-admn",function(){return r(48631)}])},49690:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(85893),a=r(50723),i=r(9103),s=r(44082),c=(r(81553),r(97808),r(53948));r(92814);function o(e){return c._k(),(0,n.jsxs)("div",{className:"divCenter divCol",children:[(0,n.jsx)(s.Z,{}),(0,n.jsx)(i.Z,{}),(0,n.jsx)("div",{className:"layoutContentWrapStyle",children:e.children}),(0,n.jsx)(a.Z,{style:{witdth:"100%"}})]})}},48631:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return f},default:function(){return p}});var n=r(85893),a=r(67294),i=r(56225),s=r(34051),c=r.n(s),o=r(50616);function u(e,t,r,n,a,i,s){try{var c=e[i](s),o=c.value}catch(u){return void r(u)}c.done?t(o):Promise.resolve(o).then(n,a)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function s(e){u(i,n,a,s,c,"next",e)}function c(e){u(i,n,a,s,c,"throw",e)}s(void 0)}))}}var d="docVi",h="finbook",x=function(){var e=(0,a.useState)("docVi"),t=e[0],r=e[1],i=(0,a.useState)([]),s=i[0],u=i[1],x=(0,a.useState)(!1),m=x[0],f=x[1],p=(0,a.useState)(""),v=p[0],b=p[1],g=(0,a.useState)(""),y=g[0],w=g[1],j=(0,a.useState)(!1),N=j[0],k=j[1],_=(0,a.useState)(""),C=_[0],V=_[1],S=function(){var e=l(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,o.WJ.getVideos(t);case 4:r=e.sent,u(r),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),V("L\u1ed7i khi t\u1ea3i danh s\xe1ch video. Ki\u1ec3m tra c\u1ea5u h\xecnh Firebase.");case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){S()}),[t]);var E=function(){var e=l(c().mark((function e(r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),V(""),n=(0,o.k8)(v),console.log("Submitting:",{url:v,title:y,videoId:n,activeTab:t}),n){e.next=7;break}return V("\u0110\u01b0\u1eddng d\u1eabn YouTube kh\xf4ng h\u1ee3p l\u1ec7."),e.abrupt("return");case 7:if(y.trim()){e.next=10;break}return V("Vui l\xf2ng nh\u1eadp ti\xeau \u0111\u1ec1."),e.abrupt("return");case 10:return k(!0),e.prev=11,e.next=14,o.WJ.addVideo(v,y,t);case 14:b(""),w(""),S(),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(11),console.error(e.t0),V("C\xf3 l\u1ed7i x\u1ea3y ra khi th\xeam video. Ki\u1ec3m tra console.");case 23:return e.prev=23,k(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[11,19,23,26]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=l(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a video n\xe0y?")){e.next=2;break}return e.abrupt("return");case 2:if(r=s.find((function(e){return e.id===t}))){e.next=6;break}return V("Kh\xf4ng t\xecm th\u1ea5y video \u0111\u1ec3 x\xf3a"),e.abrupt("return");case 6:return e.prev=6,e.next=9,o.WJ.deleteVideo(t,r.category);case 9:u((function(e){return e.filter((function(e){return e.id!==t}))})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(6),console.error(e.t0),alert("X\xf3a th\u1ea5t b\u1ea1i. Ki\u1ec3m tra console.");case 16:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,n.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:[(0,n.jsx)("div",{className:"px-6 border-b border-gray-200 bg-gray-50 flex justify-between items-center",children:(0,n.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Qu\u1ea3n l\xfd Video"})}),(0,n.jsxs)("div",{className:"divCenter",style:{borderBottom:"1px solid #8E8E93"},children:[(0,n.jsx)("button",{className:"nav_solid_submenu_item ".concat(t===d?"nav_solid_submenu_item_active":""),onClick:function(){return r(d)},children:"Clip \u0110\u1ecdc V\u1ecb"}),(0,n.jsx)("button",{className:"nav_solid_submenu_item ".concat(t===h?"nav_solid_submenu_item_active":""),onClick:function(){return r(h)},children:"Clip Finbook"})]}),(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsxs)("form",{onSubmit:E,className:"mb-10 bg-gray-50 p-6 rounded-lg border border-gray-200",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Th\xeam Video M\u1edbi"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 ",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ti\xeau \u0111\u1ec1 Video"}),(0,n.jsx)("input",{type:"text",value:y,onChange:function(e){return w(e.target.value)},className:"w-full rounded-md border-gray-300 shadow-sm px-4 border focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"VD: Ph\xe2n t\xedch k\u1ef9 thu\u1eadt...",style:{width:"400px"}})]}),(0,n.jsxs)("div",{className:"mt-1 md:mt-0",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link YouTube"}),(0,n.jsx)("input",{type:"text",value:v,onChange:function(e){return b(e.target.value)},className:"w-full rounded-md border-gray-300 shadow-sm px-4 border focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"https://youtube.com/watch?v=...",style:{width:"400px"}})]})]}),C&&(0,n.jsx)("p",{className:"text-red-500 text-sm mt-2",children:C}),(0,n.jsx)("div",{className:"divCenter mt-6",children:(0,n.jsx)("button",{type:"submit",disabled:N,className:"btnXanh ".concat(N?"opacity-50 cursor-not-allowed":""),children:N?"\u0110ang th\xeam...":"Th\xeam Video"})})]}),(0,n.jsxs)("div",{className:"mt-8",children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold mb-4 text-gray-700 flex items-center justify-between",children:[(0,n.jsxs)("span",{children:["Danh s\xe1ch Video (",s.length,")"]}),m&&(0,n.jsx)("span",{className:"text-sm font-normal text-gray-500",children:"\u0110ang t\u1ea3i..."})]}),(0,n.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:(0,n.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,n.jsx)("thead",{className:"bg-gray-50",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thumbnail"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ti\xeau \u0111\u1ec1"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Link"}),(0,n.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao t\xe1c"})]})}),(0,n.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0!==s.length||m?s.map((function(e){return(0,n.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,n.jsx)("td",{className:"whitespace-nowrap",children:(0,n.jsx)("img",{src:(0,o.gu)(e.videoId),alt:"",className:"",style:{width:"100px"}})}),(0,n.jsx)("td",{className:"divLeft",children:(0,n.jsx)("div",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:e.title})}),(0,n.jsx)("td",{className:"whitespace-nowrap",children:(0,n.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"text-sm text-blue-600 hover:text-blue-900 truncate max-w-xs block",children:e.url})}),(0,n.jsx)("td",{className:"whitespace-nowrap text-right text-sm font-medium",children:(0,n.jsx)("button",{onClick:function(){return T(e.id)},className:"text-red-600 hover:text-red-900 bg-red-50 hover:bg-red-100 px-3 py-1 rounded transition-colors",children:"X\xf3a"})})]},e.id)})):(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:0===s.length&&C?(0,n.jsx)("span",{className:"text-red-500",children:C}):"Ch\u01b0a c\xf3 video n\xe0o. H\xe3y th\xeam video m\u1edbi."})})})]})})]})]})]})})},m=(r(53948),r(49690)),f=!0,p=function(){var e=(0,i.I0)();return(0,a.useEffect)((function(){}),[e]),(0,n.jsx)(m.Z,{navmenu:!1,container:!1,children:(0,n.jsx)(x,{})})}},50616:function(e,t,r){"use strict";r.d(t,{WJ:function(){return x},gu:function(){return h},k8:function(){return d}});var n=r(34051),a=r.n(n),i=r(87568),s=r(36100);function c(e,t,r,n,a,i,s){try{var c=e[i](s),o=c.value}catch(u){return void r(u)}c.done?t(o):Promise.resolve(o).then(n,a)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function s(e){c(i,n,a,s,o,"next",e)}function o(e){c(i,n,a,s,o,"throw",e)}s(void 0)}))}}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){u(e,t,r[t])}))}return e}var d=function(e){var t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null},h=function(e){return"https://img.youtube.com/vi/".concat(e,"/mqdefault.jpg")},x={getVideos:function(){var e=o(a().mark((function e(t){var r,n,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=(0,s.hJ)(i.YR,"eclip",t,"items"),n=(0,s.IO)(r,(0,s.Xo)("createdAt","desc")),e.next=5,(0,s.PL)(n);case 5:return c=e.sent,e.abrupt("return",c.docs.map((function(e){return l({id:e.id},e.data())})));case 9:return e.prev=9,e.t0=e.catch(0),console.error("Error getting videos:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),addVideo:function(){var e=o(a().mark((function e(t,r,n){var c,o,u,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=d(t)){e.next=3;break}throw new Error("Link YouTube kh\xf4ng h\u1ee3p l\u1ec7");case 3:return o={title:r,url:t,videoId:c,category:n,createdAt:Date.now()},u=(0,s.hJ)(i.YR,"eclip",n,"items"),e.next=7,(0,s.ET)(u,o);case 7:return h=e.sent,e.abrupt("return",l({id:h.id},o));case 9:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),deleteVideo:function(){var e=o(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n=(0,s.JU)(i.YR,"eclip",r,"items",t),e.next=6,(0,s.oe)(n);case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),console.error("Error deleting video:",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,r){return e.apply(this,arguments)}}()}}},function(e){e.O(0,[8523,260,2868,4695,9774,2888,179],(function(){return t=36547,e(e.s=t);var t}));var t=e.O();_N_E=t}]);