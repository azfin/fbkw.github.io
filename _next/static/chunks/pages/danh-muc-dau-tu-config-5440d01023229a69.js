(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{96030:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/danh-muc-dau-tu-config",function(){return n(7753)}])},59843:function(e,t,n){"use strict";var r=n(85893);n(67294);t.Z=function(){return(0,r.jsxs)("div",{className:"divCenter",style:{padding:"20px 50px 50px 50px "},children:[(0,r.jsx)("img",{src:"/static/images/comming-soon.png",style:{width:"300px"}}),(0,r.jsxs)("a",{href:"/",children:[(0,r.jsx)("h1",{className:"h1Title",children:"B\u1ea1n h\xe3y quay v\u1ec1 Trang Ch\u1ee7 nh\xe9"})," "]})]})}},3033:function(e,t,n){"use strict";var r=n(85893);n(67294);t.Z=function(){return(0,r.jsx)("div",{className:"page-is-loading",children:(0,r.jsx)("img",{src:"/static/images/loading.gif",style:{height:"160px",marginLeft:"5px",marginRight:"15px"}})})}},7753:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return W},default:function(){return z}});var r=n(85893),o=n(67294),i=n(56225),a=(n(59843),n(53948),n(45325)),c=n(96486),u=n.n(c),s=n(57460),l=n(55109),f=n(45697),p=n.n(f),d=n(87568),h=n(86650),m=function(e){var t=e.onUploadSuccess,n=(0,o.useState)(null),i=n[0],a=n[1],c=(0,o.useState)(""),u=(c[0],c[1]);return(0,r.jsxs)("div",{className:"divRow",children:[(0,r.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&a(e.target.files[0])}}),(0,r.jsx)("button",{onClick:function(){if(i){var e=(0,h.iH)(d.tO,"pdfs/".concat(i.name)),n=(0,h.B0)(e,i);n.on("state_changed",(function(e){}),(function(e){console.error("Upload failed: ",e)}),(function(){(0,h.Jt)(n.snapshot.ref).then((function(e){t(e),u(e)}))}))}},children:"Upload"})]})},y=n(38585);function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return!t||"object"!==T(t)&&"function"!==typeof t?v(e):t}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}var _=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(a,e);var t,n,o,i=C(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),g(v(t=i.call(this,e)),"handleUploadSuccess",(function(e){(0,t.props.changeUrl)(e)})),g(v(t),"handleSubmit",(function(e){e.preventDefault();var n=t.props,r=n.symbol,o=n.estprice,i=n.danhmuc,a=n.linkpdf,c=n.userLoginData,u={symbol:r,estprice:o,edate:(0,y.getCurrentDateYYMMDDHHmm)(),danhmuc:i,linkpdf:a,userLoginData:c};console.log("handleSubmit newItem",u),t.props.FDMDT_STOCKLIST_ADD_ITEM(u)})),t.state={symbol:"",estprice:"",edate:"",danhmuc:"PhongThu",linkpdf:""},t}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.symbol,n=e.estprice,o=e.danhmuc,i=e.linkpdf,a=e.onInputChange;return(0,r.jsxs)("div",{className:"divBoxShadow",style:{width:"400px"},children:[(0,r.jsx)("h2",{className:"h2Title",children:"Th\xeam M\xe3 C\u1ed5 Phi\u1ebfu V\xe0o Danh M\u1ee5c"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"colDmdtILabel",children:"C\u1ed5 Phi\u1ebfu:"}),(0,r.jsx)("input",{type:"text",name:"symbol",value:t,onChange:a,required:!0,className:"colDmdtIInput"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"colDmdtILabel",children:"Gi\xe1 H\u1ee3p L\xfd:"}),(0,r.jsx)("input",{type:"text",name:"estprice",value:n,onChange:a,required:!0,className:"colDmdtIInput"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"colDmdtILabel",children:"Danh M\u1ee5c:"}),(0,r.jsxs)("select",{name:"danhmuc",value:o,onChange:a,required:!0,className:"colDmdtIInput",children:[(0,r.jsx)("option",{value:"PhongThu",children:"PhongThu"}),(0,r.jsx)("option",{value:"CanBang",children:"CanBang"}),(0,r.jsx)("option",{value:"TanCong",children:"TanCong"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"colDmdtILabel",children:"Link PDF:"}),(0,r.jsx)(m,{onUploadSuccess:this.handleUploadSuccess}),(0,r.jsx)("input",{type:"url",name:"linkpdf",value:i,onChange:a,className:"colDmdtIInput"})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{style:{width:"200px",marginTop:"15px"},onClick:this.handleSubmit,children:"Th\xeam m\xe3"})}),(0,r.jsx)("span",{children:"Ghi ch\xfa: N\u1ebfu trong danh m\u1ee5c \u0111\xe3 c\xf3 m\xe3 n\xe0y th\xec s\u1ebd c\u1eadp nh\u1eadt \u0111\xe8 l\u1ea1i th\xf4ng tin c\u0169."})]})}}])&&b(t.prototype,n),o&&b(t,o),a}(o.Component);_.propTypes={FDMDT_STOCKLIST_ADD_ITEM:p().func.isRequired};var S=(0,i.$j)((function(e){return{userLoginData:e.userReducer.userLoginData}}),(function(e){return{FDMDT_STOCKLIST_ADD_ITEM:function(t){return e((0,s.ft)(t))}}}))(_),O=n(72367),L=function(e){var t=e.stockList,n=e.onEdit,o=e.onDelete,i=[{title:"M\xe3",dataIndex:"symbol",key:"symbol",sorter:function(e,t){return e.symbol.localeCompare(t.symbol)}},{title:"\u0110\u1ecbnh gi\xe1 h\u1ee3p l\xfd",dataIndex:"estprice",key:"estprice",sorter:function(e,t){return e.estprice-t.estprice}},{title:"B\xe0i vi\u1ebft ph\xe2n t\xedch",dataIndex:"linkpdf",key:"linkpdf",render:function(e){return(0,r.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("img",{src:"/static/images/icon-dmdt-pdf.png",alt:"PDF",style:{width:"24px",height:"24px"}})})}},{title:"S\u1eeda",key:"edit",render:function(e,t){return(0,r.jsx)("button",{onClick:function(){return n(t)},children:"S\u1eeda"})}},{title:"Xo\xe1",key:"Del",render:function(e,t){return(0,r.jsx)("button",{onClick:function(){return o(t)},children:"Xo\xe1"})}}];return(0,r.jsx)(O.Z,{columns:i,dataSource:t,pagination:!1})};function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return!t||"object"!==E(t)&&"function"!==typeof t?k(e):t}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}var B=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(a,e);var t,n,o,i=R(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),I(k(t=i.call(this,e)),"handleEdit",(function(e){var n=e.symbol,r=e.estprice,o=e.linkpdf,i=t.props,a=i.title,c=i.updateCpState;t.setState({symbol:n||"",estprice:r||"",linkpdf:o||"",danhmuc:a||"PhongThu"}),console.log("handleSubmit title",a,"symbol, estprice, linkpdf",n,r,o),c({symbol:n,estprice:r,linkpdf:o,danhmuc:a})})),I(k(t),"removeCpFromDmdt",(function(e){var n=e.symbol,r=e.estprice,o=e.linkpdf,i=e.edate,a=t.props.title,c=(0,y.getCurrentDateYYMMDDHHmm)(),u={danhMuc:a,symbol:n,estprice:r,edate:i,linkpdf:o,userLoginData:t.props.userLoginData,removedate:c};t.props.FDMDT_STOCKLIST_INFO_REMOVE_CP(u)})),I(k(t),"handleChange",(function(e){t.setState(I({},e.target.name,e.target.value))})),I(k(t),"handleSubmit",(function(e){e.preventDefault();var n=t.state,r=n.tiLeTien,o=n.moTa,i=(0,y.getCurrentDateYYMMDDHHmm)(),a=t.props,c=a.userLoginData,u={tiLeTien:r,title:a.title,moTa:o,edate:i,userLoginData:c};t.props.FDMDT_STOCKLIST_INFO_UPDATE(u)})),t.state={tiLeTien:"",moTa:""},t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props.danhMucInfo;e&&this.setState({tiLeTien:e.info.tiLeTien||"",moTa:e.info.moTa||""})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.danhMucInfo,o=this.state,i=o.tiLeTien,a=o.moTa,c=100-i;return(0,r.jsxs)("div",{className:"divBoxShadow divCol",style:{width:"600px",margin:"10px 10px"},children:[(0,r.jsxs)("h2",{className:"h2Title",children:["C\u1ea5u H\xecnh Danh M\u1ee5c ",t]}),(0,r.jsxs)("div",{className:"divRow",children:[(0,r.jsx)("label",{className:"colDmdtILabel",children:"Ti\u1ec1n m\u1eb7t (%):"}),(0,r.jsx)("input",{type:"text",name:"tiLeTien",value:i,onChange:this.handleChange,required:!0}),(0,r.jsxs)("span",{className:"colDmdtILabel",style:{width:"200px",marginLeft:"15px"},children:["C\u1ed5 phi\u1ebfu(%) : ",c]})]}),(0,r.jsx)("label",{className:"colDmdtILabel",children:"M\xf4 t\u1ea3:"}),(0,r.jsx)("input",{name:"moTa",value:a,onChange:this.handleChange,required:!0,style:{width:"100%",height:"60px"}}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{style:{width:"200px",marginTop:"10px"},onClick:this.handleSubmit,children:"Thi\u1ebft L\u1eadp"})}),(0,r.jsx)(L,{stockList:n.stockList,onEdit:this.handleEdit,onDelete:this.removeCpFromDmdt})]})}}])&&w(t.prototype,n),o&&w(t,o),a}(o.Component),F=(0,i.$j)((function(e){return{userLoginData:e.userReducer.userLoginData}}),(function(e){return{FDMDT_STOCKLIST_INFO_UPDATE:function(t){return e((0,s.uE)(t))},FDMDT_STOCKLIST_INFO_REMOVE_CP:function(t){return e((0,s.m4)(t))}}}))(B),U=n(3033);function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return!t||"object"!==Z(t)&&"function"!==typeof t?H(e):t}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Z=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var o=K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}var V=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(a,e);var t,n,o,i=X(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),A(H(t=i.call(this,e)),"updateCpState",(function(e){var n=e.symbol,r=e.estprice,o=e.linkpdf,i=e.danhmuc;t.setState({symbol:n,estprice:r,linkpdf:o,danhmuc:i})})),A(H(t),"handleChange",(function(e){t.setState(A({},e.target.name,e.target.value))})),A(H(t),"changeUrl",(function(e){t.setState({linkpdf:e})})),t.state={symbol:"",estprice:"",danhmuc:"PhongThu",linkpdf:""},t}return t=a,(n=[{key:"componentWillReceiveProps",value:function(e){var t=e.userLoginData;null===this.props.userLoginData&&null!==t&&"Admin"===t.role&&(0,l.bh)().dispatch((0,s.iP)())}},{key:"componentDidMount",value:function(){null!==this.props.userLoginData&&(0,l.bh)().dispatch((0,s.iP)())}},{key:"render",value:function(){var e=this.props,t=e.userLoginData,n=e.dmdtInfoList,o=this.state,i=o.symbol,a=o.estprice,c=o.danhmuc,s=o.linkpdf,l=u().get(t,"role","");if(console.log(" render dmdtInfo",n,"userLoginData",t),!n)return(0,r.jsx)(U.Z,{});try{var f="";return f="Admin"!==l?"B\u1ea1n ph\u1ea3i l\xe0 qu\u1ea3n tr\u1ecb m\u1edbi quy\u1ec1n xem t\xednh n\u0103ng n\xe0y":(0,r.jsx)("div",{className:"divCol",children:"Admin"===l&&(0,r.jsxs)("div",{className:"divRow",children:[(0,r.jsxs)("div",{className:"divCol",children:[(0,r.jsx)(F,{title:"PhongThu",danhMucInfo:n.PhongThu,updateCpState:this.updateCpState}),(0,r.jsx)(F,{title:"CanBang",danhMucInfo:n.CanBang,updateCpState:this.updateCpState}),(0,r.jsx)(F,{title:"TanCong",danhMucInfo:n.TanCong,updateCpState:this.updateCpState})]}),(0,r.jsx)(S,{symbol:i,estprice:a,danhmuc:c,linkpdf:s,onInputChange:this.handleChange,changeUrl:this.changeUrl})]})}),(0,r.jsxs)("div",{className:"divCol Center",children:[(0,r.jsx)("h1",{className:"h1Title",children:"C\xc0I \u0110\u1eb6T DANH M\u1ee4C KHUY\u1ebeN NGH\u1eca"}),(0,r.jsx)("div",{className:"divCenter divCol",style:{width:"100%"},children:f})]})}catch(p){return console.log("error",p),(0,r.jsx)("div",{className:"bieuDoBox",children:"e"})}}}])&&q(t.prototype,n),o&&q(t,o),a}(o.Component),$={FGET_DMDT_DS:s.iP},J=(0,i.$j)((function(e){return{dmdtInfoList:e.kvrrDmdtReducer.dmdtInfoList,userLoginData:e.userReducer.userLoginData}}),$)(V),W=!0,z=function(){var e=(0,i.I0)();return(0,o.useEffect)((function(){}),[e]),(0,r.jsx)(a.Z,{navmenu:!1,container:!1,children:(0,r.jsx)(J,{})})}}},function(e){e.O(0,[523,260,868,726,367,325,774,888,179],(function(){return t=96030,e(e.s=t);var t}));var t=e.O();_N_E=t}]);