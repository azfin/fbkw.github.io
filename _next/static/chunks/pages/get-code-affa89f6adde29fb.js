(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3244],{3980:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/get-code",function(){return t(26315)}])},49690:function(n,e,t){"use strict";t.d(e,{Z:function(){return s}});var r=t(85893),a=t(50723),i=t(9103),c=t(44082),o=(t(81553),t(97808),t(53948));t(92814);function s(n){return o._k(),(0,r.jsxs)("div",{className:"divCenter divCol",children:[(0,r.jsx)(c.Z,{}),(0,r.jsx)(i.Z,{}),(0,r.jsx)("div",{className:"layoutContentWrapStyle",children:n.children}),(0,r.jsx)(a.Z,{style:{witdth:"100%"}})]})}},26315:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSG:function(){return j},default:function(){return y}});var r=t(85893),a=t(67294),i=t(56225),c=t(34051),o=t.n(c),s=t(89355),l=t(87568),u=t(9669),d=t.n(u);function h(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function f(n,e,t,r,a,i,c){try{var o=n[i](c),s=o.value}catch(l){return void t(l)}o.done?e(s):Promise.resolve(s).then(r,a)}function v(n){return function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function c(n){f(i,r,a,c,o,"next",n)}function o(n){f(i,r,a,c,o,"throw",n)}c(void 0)}))}}function m(n){return function(n){if(Array.isArray(n))return h(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"===typeof n)return h(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p="BCCL N\u0102M 2026 (11/2025)";function x(n){var e=n.index,t=n.itemCode;return(0,r.jsxs)("div",{className:"divBox",children:[(0,r.jsxs)("div",{className:"divCenter divCol",children:[(0,r.jsxs)("span",{className:"h3Title",children:["M\xe3 b\u1ed1c th\u0103m ",e+1,":"]}),(0,r.jsx)("span",{className:"h3Title title2Cam",style:{fontSize:"30px"},children:t.code})]}),(0,r.jsxs)("div",{className:"divCenter divCol",children:[(0,r.jsx)("p",{className:"h3Title",children:"Ng\xe0y t\u1ea1o:"}),(0,r.jsx)("p",{className:"h3Title",children:t.date})]})]})}var g=(0,i.$j)((function(n){return{userLoginData:n.userReducer.userLoginData}}))((function(n){var e=n.userLoginData,t=(0,a.useState)(0),i=t[0],c=t[1],u=(0,a.useState)([]),h=u[0],f=u[1],g=(0,a.useState)(!0),N=g[0],j=g[1];(0,a.useEffect)((function(){y(),b()}),[e]);var y=function(){var n=v(o().mark((function n(){var t,r,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===e||void 0===e?void 0:e.uid){n.next=3;break}return j(!1),n.abrupt("return");case 3:return t="games/fin0511/".concat(e.uid),n.prev=4,r=(0,s.iH)(l.Fs,t),n.next=8,(0,s.U2)(r);case 8:(a=n.sent).exists()&&(f(a.val()),console.log("checkExistingCode","snapshot.val()",a.val())),j(!1),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(4),console.error("Error checking code:",n.t0,t),j(!1);case 17:case"end":return n.stop()}}),n,null,[[4,13]])})));return function(){return n.apply(this,arguments)}}(),b=function(){var n=v(o().mark((function n(){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===e||void 0===e?void 0:e.uid){n.next=2;break}return n.abrupt("return");case 2:t=e.email,r="static/getcodeul.csv";try{d().get(r).then((function(n){var e=n.data.split("\n").slice(1).filter((function(n){return n.split(",")[0]===t}));if(e.length>0){var r=e[0].split(",")[1];c(r)}}))}catch(a){console.error("Error checking code:",a,r),j(!1)}case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),C=function(){for(var n="",e=0;e<6;e++)n+=Math.floor(10*Math.random());return n},w=function(){var n=v(o().mark((function n(){var t,r,a,i,c,u,d;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((null===e||void 0===e?void 0:e.uid)&&(null===e||void 0===e?void 0:e.email)){n.next=3;break}return alert("Vui l\xf2ng \u0111\u0103ng nh\u1eadp \u0111\u1ec3 l\u1ea5y m\xe3"),n.abrupt("return");case 3:return t=C(),r=new Date,a="".concat(r.getFullYear(),"/").concat(String(r.getMonth()+1).padStart(2,"0"),"/").concat(String(r.getDate()).padStart(2,"0")," ").concat(String(r.getHours()).padStart(2,"0"),":").concat(String(r.getMinutes()).padStart(2,"0")),i={email:e.email,code:t,date:a},n.prev=7,c=m(h).concat([i]),u="games/fin0511/".concat(e.uid),d=(0,s.iH)(l.Fs,u),console.log("handleGetCode nodePath",u,"codeData",h),n.next=14,(0,s.t8)(d,c);case 14:f(c),console.log("handleGetCode","codeData",h),n.next=22;break;case 18:n.prev=18,n.t0=n.catch(7),console.error("Error saving code:",n.t0),alert("C\xf3 l\u1ed7i x\u1ea3y ra khi l\u01b0u m\xe3");case 22:case"end":return n.stop()}}),n,null,[[7,18]])})));return function(){return n.apply(this,arguments)}}();return N?(0,r.jsx)("div",{className:"p-4",children:"\u0110ang t\u1ea3i..."}):(null===e||void 0===e?void 0:e.uid)?(console.log("codeData",h),(0,r.jsxs)("div",{className:"p-6 max-w-md mx-auto shadow-md divCenter divCol",children:[(0,r.jsxs)("h1",{className:"h1Title",children:["Nh\u1eadn M\xe3 ",p]}),(0,r.jsxs)("h3",{className:"h3Title",children:["B\u1ea1n c\xf3 th\u1ec3 nh\u1eadn ",(0,r.jsx)("span",{className:"title2Cam",children:i})," m\xe3 b\u1ed1c th\u0103m."]}),h.length>0&&h.map((function(n,e){return(0,r.jsx)(x,{index:e,itemCode:n},e)})),h.length<i&&(0,r.jsx)("button",{onClick:w,className:"h_btnXanh",children:"Nh\u1eadn m\xe3 b\u1ed1c th\u0103m"})]})):(0,r.jsxs)("div",{className:"divCol",children:[(0,r.jsxs)("h2",{className:"h1Title",children:["Nh\u1eadn M\xe3 ",p]}),(0,r.jsxs)("div",{className:"divCenter",children:["Vui l\xf2ng",(0,r.jsxs)("a",{className:"h_btnXanh",href:"/login",style:{marginLeft:"10px"},children:["\u0110\u0103ng nh\u1eadp",(0,r.jsx)("img",{src:"./static/images/icon_right.png",alt:".",className:"icon_in_button"})]})]})]})})),N=(t(53948),t(49690)),j=!0,y=function(){var n=(0,i.I0)();return(0,a.useEffect)((function(){}),[n]),(0,r.jsx)(N.Z,{navmenu:!1,container:!1,children:(0,r.jsx)(g,{})})}}},function(n){n.O(0,[8523,260,2868,4695,9774,2888,179],(function(){return e=3980,n(n.s=e);var e}));var e=n.O();_N_E=e}]);